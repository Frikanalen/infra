---
external_dns_namespace: external-dns
external_dns_chart_version: "{{ helm_chart_versions.external_dns }}"

# DNS provider configuration (RFC2136 for BIND9)
external_dns_provider: rfc2136

# Domain to manage
external_dns_domain_filter: "{{ frikanalen_dyndns_zone }}"

# Ingress class to watch
external_dns_ingress_class: "{{ frikanalen_public_ingress_class }}"

# RFC2136 configuration
external_dns_rfc2136_host: "{{ frikanalen_dyndns_server }}"
external_dns_rfc2136_port: 53
external_dns_rfc2136_zone: "{{ frikanalen_dyndns_zone }}"
external_dns_rfc2136_tsig_keyname: "{{ frikanalen_dyndns_tsig_keyname }}"
external_dns_rfc2136_tsig_secret_alg: hmac-sha256
external_dns_rfc2136_tsig_secret: "{{ vault_dns_tsig_secret }}"

# TXT record ownership
external_dns_txt_owner_id: "{{ frikanalen_dyndns_owner_id }}"
external_dns_txt_prefix: "_externaldns."

# Policy: sync will delete records, upsert-only will only create/update
external_dns_policy: sync
